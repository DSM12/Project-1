
  <!-- AIzaSyCm4oR4IdvxBO6YgE4DSiSrVcvAtQ5uXdg -->

  <!DOCTYPE html>
  <html>
    <head>
      <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
      <meta charset="utf-8">
      <title>Draggable Directions</title>
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"></link>
      <style>
        #right-panel {
          font-family: 'Roboto','sans-serif';
          line-height: 30px;
          padding-left: 10px;
        }
  
        #right-panel select, #right-panel input {
          font-size: 15px;
        }
  
        #right-panel select {
          width: 100%;
        }
  
        #right-panel i {
          font-size: 12px;
        }
        html, body {
          height: 100%;
          margin: 0;
          padding: 0;
        }
        #map {
          height: 100%;
          float: left;
          width: 63%;
          height: 100%;
        }
        #right-panel {
          float: right;
          width: 34%;
          height: 100%;
        }
        .panel {
          height: 100%;
          overflow: auto;
        }
      </style>
    </head>
    <body>
      <div id="map"></div>
      <div id="right-panel">
        <p>Total Distance: <span id="total"></span></p>

        <div class="container">
          <!-- Jumbotron for Title -->
          <div class="jumbotron" style="background-color: #20315A ; color: white;">
            <h1 class="text-center">
              <strong>
                <i class="fa fa-newspaper-o"></i> Your Route</strong>
            </h1>
          </div>
          <!-- Row for Searching New York Times -->
          <div class="row">
            <div class="col-sm-12">
              <br>
              <!-- First card is for handling the search parameters -->
              <div class="card">
                <div class="card-header">
                  <strong>
                    <i class="fa fa-list-alt"></i> Search Parameters</strong>
                </div>
                <div class="card-body">
                  <!-- Here we create an HTML Form for handling the inputs-->
                  <form role="form">
                    <!-- Here we create the text box for capturing the search term-->
                    <div class="form-group">
                      <label for="search">Starting Point:</label>
                      <input type="text" class="form-control" id="search-term">
                    </div>
                    <div class="form-group">
                      <label for="search">Destination:</label>
                      <input type="text" class="form-control" id="search-term">
                    </div>
                    <button>GO!</button>

      </div>
      <script>

var queryURL = "https://maps.googleapis.com/maps/api/js?key=AIzaSyCm4oR4IdvxBO6YgE4DSiSrVcvAtQ5uXdg&callback=initMap";

function buildQueryURL() {
  // queryURL is the url we'll use to query the API
 
  // Begin building an object to contain our API call's query parameters
  // Set the API key
  // var queryParams = { "api-key": "R1a31F4tBjCUaM2ho8GtIFsrSdtXt30M" };
  // Grab text the user typed into the search input, add to the queryParams object
  queryURL.q = $("#search-term")
    .val()
    .trim();

    }

var userInput = "";
var dInput = "";



        function initMap() {
          var map = new google.maps.Map(document.getElementById('map'), {
            zoom: 12,
            center: {lat: 39.9526, lng: -75.1652}  // Philly
          });
  
          var directionsService = new google.maps.DirectionsService;
          var directionsRenderer = new google.maps.DirectionsRenderer({
            draggable: true,
            map: map,
            panel: document.getElementById('right-panel')
          });
  
          directionsRenderer.addListener('directions_changed', function() {
            computeTotalDistance(directionsRenderer.getDirections());
          });
  
          displayRoute('', '', directionsService,
              directionsRenderer);
        }
  
        function displayRoute(origin, destination, service, display) {
    
          service.route({
            origin: origin,
            destination: destination,
            waypoints: [{location: ''}, {location: ''}],
            travelMode: 'DRIVING',
            avoidTolls: true
          }, function(response, status) {
            if (status === 'OK') {
              display.setDirections(response);
            } else {
              // alert('Could not display directions due to: ' + status);
            }
          });
        }
  
        function computeTotalDistance(result) {
          var total = 0;
          var myroute = result.routes[0];
          for (var i = 0; i < myroute.legs.length; i++) {
            total += myroute.legs[i].distance.value;
          }
          total = total / 1000;
          document.getElementById('total').innerHTML = total + ' km';
        }
      </script>
      <script async defer
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCm4oR4IdvxBO6YgE4DSiSrVcvAtQ5uXdg&callback=initMap">
      </script>
 
      
    </body>
</html>

 
